<html>
<head>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>


    <h1>Welcome to Drawing Board!</h1>

    <p>Enter some commands to draw shapes</p>
    <textarea id="commands" rows="8" cols="50">draw circle 50 50 10;</textarea>
    <br>
    <button id="button">Do Commands!</button>
    <br>
    <br>
    <svg id="svgContainer" width="100" height="100">
        <!-- <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" /> -->
    </svg>

    <script>
    $(document).ready(function()
    {
        var button = $("#button");
        var svg = $("#svgContainer");

        //AJAX call to php - send commands to parser
        button.click(function()
        {
            var commands = $("#commands").val();

            $.get("ProcessCommands.php?commands=" + commands,
            function(data)
            {
                // var count = data.split("*").length - 1;
                // var newData = "";
                //
                // for (var i = 0; i < count; i++)
                // {
                //     console.log("data is-----" + data);
                //     newData = data.substring(0, data.indexOf('*'));
                //     console.log("NEW data is-----" + data);
                //
                //     newIndex = newData.indexOf('*');
                //     console.log("new index is-----" + newIndex);
                //     data = newData.substring(newIndex, -1);
                //
                //     s = JSON.stringify(newData);
                //     obj = JSON.parse(s);
                //     console.log(obj);
                //
                //
                // }
                //
                // //TODO not able to get this? console.log(obj.command);
                //
                // $("#myDiv").html(data);

                circle = svg.append('circle');
                d3.select("#svgContainer").append("circle").attr("cx", 25).attr("cy", 25).attr("r", 25).style("fill", "purple");


                //https://www.dashingd3js.com/adding-an-svg-element


            });
        });

    });

    </script>



</body>
</html>
