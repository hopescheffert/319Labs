<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<body>


    <h1>Welcome to Drawing Board!</h1>

    <p>Enter some commands to draw shapes</p>
    <textarea id="commands" rows="8" cols="50">draw circle 50 50 10;</textarea>
    <br>
    <button id="button">Do Commands!</button>
    <div height="100" width="100" id="myDiv">
    </div>

    <script>
    $(document).ready(function()
    {
        var button = $("#button");

        //AJAX call to php - send commands to parser
        button.click(function()
        {
            var commands = $("#commands").val();

            $.get("ProcessCommands.php?commands=" + commands,
            function(data)
            {
                var count = data.split("*").length - 1;
                var newData = "";

                for (var i = 0; i < count; i++)
                {
                    newData = data.substring(0, data.indexOf('*'));
                    newIndex = newData.indexOf('*');

                    s = JSON.stringify(newData);
                    obj = JSON.parse(s);
                    console.log(obj);
                    data = data.substring(newIndex, -1);
                }

                //TODO not able to get this? console.log(obj.command);

                $("#myDiv").html(data);

            });
        });

    });

    </script>



</body>
</html>
